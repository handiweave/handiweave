<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#682228">

    <title>Handiweave | Traditions and Trends ‚ú®</title>

    <meta name="description" content="Handiweave: Traditions and Trends üß∂ üêë. A platform empowering Himachal's artisans to market authentic handmade handloom and handicrafts üèîÔ∏è.">

    <meta property="og:title" content="Handiweave | Traditions and Trends">
    <meta property="og:image" content="https://handiweave.com/logo.png">
    <meta property="og:description" content="Authentic Handloom from Himachal. Empowering Artisans.">
    <meta property="og:url" content="https://handiweave.com/">
    <meta property="og:type" content="website">

    <link rel="canonical" href="https://handiweave.com/">
    <link rel="icon" type="image/png" href="favicon.png">
    
    <link rel="stylesheet" href="style.css?v=3">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">

    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SEWM8S3WL0"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-SEWM8S3WL0');
    </script>
    <style>
    /* ===== MODAL PREMIUM DESIGN ===== */
    .product-modal-content {
        width: 95% !important;
        max-width: 1100px !important;
        max-height: 90vh;
        display: grid;
        grid-template-columns: 1.2fr 1fr;
        gap: 30px;
        padding: 30px !important;
        border-radius: 12px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    .modal-trust-badges {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        margin-top: 25px;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 8px;
        border: 1px dashed #ddd;
    }
    .trust-item {
        font-size: 0.85rem; color: #333; font-weight: 600;
        display: flex; align-items: center; gap: 10px;
    }
    .trust-item i { color: #7A5548; font-size: 1.2rem; }
    
    .save-badge {
        background: #27ae60; color: white; font-size: 0.75rem; 
        padding: 4px 8px; border-radius: 4px; font-weight: bold; 
        vertical-align: middle; margin-left: 10px;
    }
    .off-sticker {
        position: absolute; top: 15px; left: 15px;
        background: #e74c3c; color: white; padding: 5px 12px; 
        font-weight: bold; border-radius: 4px; z-index: 10;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    
    @media (max-width: 768px) {
        .product-modal-content {
            grid-template-columns: 1fr !important;
            padding: 15px !important;
            width: 100% !important;
            height: 100%; border-radius: 0;
        }
        .main-modal-img { max-height: 350px; object-fit: contain; }
    }
</style>
</head>

<body>
    <div class="trust-banner">
        <span><i class="fas fa-certificate"></i> Devbhoomi Himachal</span>
        <span><i class="fas fa-hand-holding-heart"></i> 100% Handcrafted</span>
        <span><i class="fas fa-truck"></i> Pan India Shipping</span>
    </div>

    <a href="https://wa.me/919882212962" class="whatsapp-float" target="_blank"><i class="fab fa-whatsapp"></i></a>
    <div class="cart-icon" onclick="openCart()"><i class="fas fa-shopping-bag"></i><span class="cart-count" id="cartCount">0</span></div>

    <section class="hero-section" id="home">
        <div class="hero-logo-container">
            <div class="hero-logo"><img src="logo.png" alt="Handiweave Logo" onerror="this.style.display='none'"></div>
        </div>
        <h1 class="hero-title">HANDIWEAVE</h1>
        <p class="hero-tagline">Traditions and Trends</p>
        <p style="max-width: 700px; margin: 0 auto; opacity: 0.9;">Premium handcrafted wovens from Devbhoomi Himachal</p>
    </section>

    <nav class="main-nav">
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search product..." onkeyup="searchProducts(event)">
            <i class="fas fa-search" onclick="searchProducts(event)"></i>
        </div>
        <a href="index.html" class="nav-link active">Home</a>
        <a href="shop.html" class="nav-link">Wovens</a>
        <a href="about.html" class="nav-link">Story</a>
        <a href="journal.html" class="nav-link">Journal</a>
        <a href="contact.html" class="nav-link">Contact</a>
        <a href="policies.html" class="nav-link">Policies</a>
    </nav>

   <div style="text-align: center; margin: 40px 20px; color: #682228;">
        <p style="font-family: 'Playfair Display', serif; font-size: 1.5rem; font-style: italic;">
            "From the hands of Pahadi artisans, directly to your heart."
        </p>
        <div style="width: 50px; height: 2px; background: #D4AF37; margin: 10px auto;"></div>
    </div>

    <div style="text-align: center; margin: 25px 0 40px; color: #4A1217; font-size: 1.2rem;">
        <i class="fas fa-caret-left" style="color: #D4AF37;"></i> 
        <i class="fas fa-diamond" style="margin: 0 5px; font-size: 0.8rem;"></i> 
        <i class="fas fa-mountain" style="font-size: 2rem; margin: 0 15px; color: #682228;"></i> 
        <i class="fas fa-diamond" style="margin: 0 5px; font-size: 0.8rem;"></i> 
        <i class="fas fa-caret-right" style="color: #D4AF37;"></i>
    </div>

    <section class="section-container" style="display:block;">
        <h2 style="text-align:center; margin-bottom:1rem;">Our Collection</h2>
        <div class="category-filters">
            <button class="filter-btn active" onclick="filterCategory('all', this)">All</button>
            <button class="filter-btn" onclick="filterCategory('Wovens', this)">Wovens</button>
            <button class="filter-btn" onclick="filterCategory('Cap', this)">Caps</button>
            <button class="filter-btn" onclick="filterCategory('Jacket', this)">Jackets</button>
            <button class="filter-btn" onclick="filterCategory('Home Decor', this)">Decor</button>
            <button class="filter-btn" onclick="filterCategory('Footwear', this)">Footwear</button>
        </div>
        <div class="products-grid" id="productsContainer"></div>
    </section>

    <section class="section-container craft-section" style="display:block;">
        <h2 style="text-align:center; margin-bottom:1rem;">Beyond Seasons</h2>
        <p style="text-align:center; max-width:600px; margin:0 auto 2rem; color:#666;">Creating pieces that speak the language of comfort and style, season after season.</p>
        <div class="craft-grid">
            <div class="craft-card"><div class="craft-icon"><i class="fas fa-snowflake"></i></div><h3>All Season Crafting</h3><p>We are crafting pieces that feel like a warm hug in winter and a soft whisper in summer.</p></div>
            <div class="craft-card"><div class="craft-icon"><i class="fas fa-yarn"></i></div><h3>Knitting Stories</h3><p>Every loop and stitch is a word in our storybook of textures.</p></div>
            <div class="craft-card"><div class="craft-icon"><i class="fas fa-ring"></i></div><h3>Crochet Magic</h3><p>Where a single thread transforms into intricate beauty.</p></div>
        </div>
    </section>

    <footer class="main-footer">
        <div class="social-links"><a href="https://instagram.com/handiweave" class="social-link" target="_blank"><i class="fab fa-instagram"></i></a><a href="https://wa.me/919882212962" class="social-link" target="_blank"><i class="fab fa-whatsapp"></i></a><a href="https://x.com/handiweave" class="social-link" target="_blank"><i class="fab fa-twitter"></i></a></div>
        <div class="footer-links"><a href="shop.html" class="footer-link">Collection</a><a href="about.html" class="footer-link">Story</a><a href="policies.html" class="footer-link">Policies</a></div>
        <div style="margin-top:1.5rem;"><p>handiweave@gmail.com | +91 98822 12962</p><p style="margin-top:0.5rem; color:#666; font-size:0.9rem;">Devbhoomi Himachal</p></div>
        <div style="margin-top:2rem;"><p>¬© 2025 Handiweave. All rights reserved.</p></div>
    </footer>

    <div class="overlay" id="overlay"></div>
    <div class="product-modal" id="productModal"><div class="product-modal-content"><button class="modal-close-btn" onclick="closeProductModal()">&times;</button><div id="modalBody"></div></div></div>
    
    <aside class="cart-sidebar" id="cartSidebar">
        <div style="padding:1.5rem; border-bottom:1px solid #eee; display:flex; justify-content:space-between; align-items:center;">
            <h3>Your Bag</h3>
            <button class="modal-close" onclick="closeCart()" style="background:none; border:none; font-size:1.5rem; cursor:pointer;">&times;</button>
        </div>
        <div id="cartItemsList" style="flex:1; overflow-y:auto; padding:1.5rem;"></div>
        <div style="padding:1.5rem; border-top:1px solid #eee;">
            <div style="display:flex; justify-content:space-between; font-weight:700; margin-bottom:1.5rem;"><span>Total:</span><span id="cartTotalText">‚Çπ0</span></div>
            <button onclick="openCheckout()" style="background:var(--brand); color:white; width:100%; padding:15px; border-radius:4px; font-weight:700; border:none; cursor:pointer;">Proceed to Checkout</button>
        </div>
    </aside>

    <div class="checkout-modal" id="checkoutModal">
        <button class="modal-close" onclick="closeCheckout()" style="position:absolute; top:15px; right:20px; background:none; border:none; font-size:1.5rem; cursor:pointer; color:#666;">&times;</button>
        <h2 style="margin-bottom:1.5rem;">Checkout</h2>
        <div id="checkoutSummary" style="margin-bottom:1.5rem; padding:1rem; background:#f9f9f9; border-radius:8px; font-size:0.9rem;"></div>
        <div style="font-size:1.3rem; font-weight:700; text-align:right; margin-bottom:1.5rem;">Total: <span id="checkoutTotal">‚Çπ0</span></div>
        <form id="checkoutForm">
            <div class="form-group"><input type="text" id="customerName" class="form-control" placeholder="Full Name *" required></div>
            <div class="form-group"><input type="tel" id="customerPhone" class="form-control" placeholder="Mobile Number *" required pattern="[0-9]{10}"></div>
            <div class="form-group"><input type="email" id="customerEmail" class="form-control" placeholder="Email Address (Optional)"></div>
            <h4 style="margin: 15px 0 10px; font-size: 0.95rem; color: var(--brand); border-bottom: 1px solid #eee; padding-bottom: 5px;">Shipping Address</h4>
            <div class="form-group"><input type="text" id="addrLine1" class="form-control" placeholder="House No, Village / Ward / Town *" required></div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                <input type="text" id="addrDistrict" class="form-control" placeholder="District *" required>
                <input type="text" id="addrState" class="form-control" placeholder="State *" required value="Himachal Pradesh">
            </div>
            <div class="form-group" style="margin-top: 10px;"><input type="number" id="addrPin" class="form-control" placeholder="Pincode *" required></div>
            <div style="margin-top:15px; background:#fff8e1; padding:10px; border-radius:6px; border:1px dashed var(--gold);">
                <label style="display:flex; align-items:center; cursor:pointer; gap:10px; margin-bottom:0;">
                    <input type="checkbox" id="isGift" style="width:20px; height:20px; accent-color:var(--brand);">
                    <span style="font-size:0.9rem; color:var(--brand-dark);"><strong>üéÅ Send as a Gift?</strong><br><span style="font-size:0.8rem; color:#666;">We'll remove the price tag & pack with love.</span></span>
                </label>
            </div>
            <div id="paymentButtons" style="margin-top:1.5rem;"></div>
        </form>
    </div>

    <div class="notification" id="notification"><i class="fas fa-check-circle"></i> <span id="notificationText"></span></div>
    
    <script src="script.js"></script>
    <script>
// ===== FINAL LOGIC: SLIDER + BADGES + WINE BUTTON =====

let currentGallery = []; // Photos store karne ke liye
let currentIndex = 0;    // Abhi konsi photo hai

function openProductModal(id) {
    const product = PRODUCTS.find(p => p.id === id);
    if(!product) return;
    
    // 1. SLIDER SETUP
    currentGallery = product.gallery && product.gallery.length > 0 ? product.gallery : [product.img];
    currentIndex = 0; // Hamesha pehli photo se shuru karo
    const showArrows = currentGallery.length > 1; // Agar 1 se zyada photo hai tabhi arrows dikhao

    const modal = document.getElementById('productModal');
    const body = document.getElementById('modalBody');

   // 2. SMART BADGE LOGIC (Updated for Jackets, Jewelry & Future items)
    let badgeText = "100% Handwoven"; // Default (Shawls, Caps ke liye)
    let badgeIcon = "fa-hand-holding-heart";

    const pName = product.name.toLowerCase();
    const pCat = product.category.toLowerCase();

    // Rule 1: Silla hua kapda (Hoodie, Jacket, etc.)
    if (pName.includes('hoodie') || pName.includes('jacket') || pCat.includes('jacket')) {
        badgeText = "Premium Quality";
        badgeIcon = "fa-star";
    }
    // Rule 2: Future Items (Jewellery / Decor)
    else if (pName.includes('jewel') || pName.includes('necklace') || pCat.includes('decor')) {
        badgeText = "Handcrafted Art";
        badgeIcon = "fa-gem"; // Hira ka icon
    }
    // Rule 3: Footwear
    else if (pCat.includes('footwear') || pName.includes('pulla')) {
        badgeText = "Handmade Footwear";
        badgeIcon = "fa-shoe-prints";
    }

    // 3. DISCOUNT LOGIC
    let discountHTML = '';
    let saveHTML = '';
    if(product.originalPrice > product.price) {
        const discPercent = Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100);
        discountHTML = `<span class="off-sticker">-${discPercent}% OFF</span>`;
        saveHTML = `<span class="save-badge">You Save ‚Çπ${product.originalPrice - product.price}</span>`;
    }

    // 4. OPTIONS LOGIC
    let optionsHTML = '';
    if(product.options) {
        const opts = product.options.values.map(v => `<option value="${v}">${v}</option>`).join('');
        optionsHTML = `
            <div class="variant-selector" style="margin: 1.5rem 0;">
                <label style="font-weight:bold; display:block; margin-bottom:8px;">Select ${product.options.type}:</label>
                <select id="modalVariantSelect" style="width:100%; padding:10px; border:1px solid #ccc; border-radius:4px;">
                    ${opts}
                </select>
            </div>`;
    }

    // 5. THUMBS LOGIC
    let thumbs = currentGallery.map((src, idx) => 
        `<img src="${src}" class="thumb-img" style="height:60px; width:60px; border:1px solid #ddd; padding:2px; cursor:pointer;" 
        onclick="changeSlideDirect(${idx})">`
    ).join('');

    // 6. ARROWS HTML
    const arrowsHTML = showArrows ? `
        <button class="slide-btn prev-btn" onclick="changeSlide(-1)">&#10094;</button>
        <button class="slide-btn next-btn" onclick="changeSlide(1)">&#10095;</button>
    ` : '';

    // 7. BUILD HTML (Wine Button & Fixed Badges included)
    body.innerHTML = `
        <button onclick="closeProductModal()" style="position:absolute; top:15px; right:15px; z-index:100; background:white; border:2px solid #682228; color:#682228; font-weight:bold; padding:8px 15px; border-radius:30px; cursor:pointer; display:flex; align-items:center; gap:8px; box-shadow:0 4px 10px rgba(0,0,0,0.1);">
            CLOSE <i class="fas fa-times"></i>
        </button>

        <div class="modal-gallery">
            <div class="slider-container">
                ${discountHTML}
                ${arrowsHTML}
                <img id="mainModalImage" src="${currentGallery[0]}" alt="${product.name}" class="main-modal-img" style="width:100%; border-radius:8px; transition: opacity 0.3s;">
            </div>
            <div class="thumb-grid" style="margin-top:15px; display:flex; gap:10px; overflow-x:auto;">${thumbs}</div>
        </div>
        
        <div class="modal-details" style="padding-top:10px;">
            <h2 style="font-size:1.6rem; margin-bottom:5px; line-height:1.2; padding-right:30px;">${product.name}</h2>
            
            <div class="modal-price" style="margin: 15px 0; display:flex; align-items:center; gap:10px; flex-wrap:wrap;">
                <span style="font-size:1.8rem; font-weight:700; color:#7A5548;">‚Çπ${product.price.toLocaleString('en-IN')}</span>
                <span style="color:#999; text-decoration:line-through; font-size:1.1rem;">‚Çπ${product.originalPrice.toLocaleString('en-IN')}</span>
                ${saveHTML}
            </div>
            <div style="font-size:0.85rem; color:#666; margin-bottom:10px;">(Shipping calculated at checkout)</div>

            <div style="color:#555; font-size:1rem; line-height:1.6; border-left:3px solid #682228; padding-left:15px; margin-bottom:20px;">
                ${product.shortDesc}
            </div>

            ${product.inStock ? optionsHTML : ''}
            
            <button class="add-to-cart-btn" style="width:100%; padding:18px; font-size:1.1rem; font-weight:bold; background: #682228; color:white; border:none; border-radius:6px; cursor:pointer; display:flex; justify-content:center; gap:10px;" 
                onclick="addToCartFromModal(${product.id})" ${!product.inStock ? 'disabled style="background:#ccc;"' : ''}>
                <i class="fas fa-shopping-bag"></i> 
                ${product.inStock ? 'ADD TO BAG' : 'OUT OF STOCK'}
            </button>

            <div class="modal-trust-badges">
                <div class="trust-item"><i class="fas ${badgeIcon}"></i> ${badgeText}</div>
                <div class="trust-item"><i class="fas fa-truck"></i> Pan India Shipping</div>
                <div class="trust-item"><i class="fas fa-sync-alt"></i> 7 Days Exchange T&C</div>
                <div class="trust-item"><i class="fas fa-certificate"></i> Authentic Himachali</div>
            </div>

            <div style="margin-top:25px; border-top:1px solid #eee; padding-top:15px;">
                <h4 style="margin-bottom:10px;">Product Details</h4>
                <p style="color:#666; font-size:0.95rem;">${product.desc}</p>
                <div style="background:#fff3cd; padding:10px; margin-top:10px; border-radius:4px; font-size:0.9rem;">
                    <strong>Care:</strong> ${product.care}
                </div>
            </div>
        </div>
    `;

    modal.style.display = 'flex';
    document.body.style.overflow = 'hidden';
}

// ===== SLIDER FUNCTIONS =====
function changeSlide(step) {
    currentIndex += step;
    if (currentIndex >= currentGallery.length) currentIndex = 0;
    if (currentIndex < 0) currentIndex = currentGallery.length - 1;
    document.getElementById('mainModalImage').src = currentGallery[currentIndex];
}

function changeSlideDirect(idx) {
    currentIndex = idx;
    document.getElementById('mainModalImage').src = currentGallery[currentIndex];
}

function closeProductModal() { 
    document.getElementById('productModal').style.display = 'none'; 
    document.body.style.overflow = 'auto';
}
</script>
</body>
</html>






